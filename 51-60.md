## 51. Објаснити дилему „ентитет или атрибут“?
Ако имамо сложен атрибут, можемо да га моделирамо као:
- један сложен атрибут
- више простих атрибута
- један ентитет
- На основу чега доносимо одлуку?
- Чак и за просте атрибуте може да се постави питање да ли су они можда ипак ентитети?

Аргументи за “атрибут”:
- ако једном ентитету одговара тачно једна вредност “атрибута”
- ако представља једноставну скаларну вредност која описује ентитет
- ако више ентитета може да има исте вредности, а да оне нису међусобно условљене
  - тј. мењање вредности за један ентитет не повлачи њено мењање за други
- ако важи слично и када је то “атрибут” у различитим скуповима ентитета

Сложен атрибут може да има смисла:
- ако желимо да сачувамо интерну структуру, али она има значаја само интерно
- ако више ентитета може да има исте вредности, а да оне нису међусобно условљене
  - нпр, ако “адреса” обухвата град, улицу и број, онда више запослених може да има исту адресу, а да
то не значи да живе заједно, па се оне и даље могу одвојено мењати
- ако важи слично и када је то атрибут у различитим скуповима ентитета

“Атрибут” мора да прерасте у ентитет:
- ако неком другом ентитету одговара истовремено више вредности тог атрибута
- ако постоји међузависност вредности атрибута
- нпр. ако више ентитета има исту вредност атрибута и он се промени за један ентитет, онда мора да
се промени и за остале

## 52. Објаснити дилему „ентитет или однос“?
Однос може да буде ”однос”:
- Ако сви његови атрибути односе стрикно на једну инстанцу односа
  - тј. нема редундантности


- Однос мора да прерасте у “ентитет”:
  - Ако се неки од његових атрибута односи истовремено на више инстанци
односа
    - редундантност повлачи уочавање/издвајање новог ентитета и подизање сложености
односа

- У великом броју случајева је “једнако исправно” да нешто буде било однос
било ентитет

## 53. Објаснити дилему „сложени однос или више бинарних односа“?
Већина сложених односа може да се “подели” на више бинарних
агрегираних односа
- Да ли је боље поделити их или их оставити?
- Сложене односе има смисла поделити на више једноставнијих
искључиво ако сваки од добијених односа има свој семантички смисао
у посматраном домену
- Чак и тада, ако је семантика очигледнија из сложеног односа, онда би
тај сложени однос требало да остане

## 54. Објаснити дилему „агрегација или тернарни однос“?
- Ово питање је слично претходном:
  - Агрегирани однос подразумева да се агрегирани однос може
посматрати као скуп ентитета (или скуп односа)
  - Но, то може да буде и вештачки направљено
  - Шта је и када боље урадити?

- Агрегирани односи су боље решење:
  - Ако некада постоји само део односа, а некада цео (тј. некада само део који се
агрегира, а некада пун однос)
  - Ако се део атрибута односа не тиче целине односа већ само његовог дела, који
укључује мање ентитета
- У осталим случајевима обично је боље да се користе сложени односи

## 55. Како се ентитети и односи ЕР модела преводе у релациони модел?
Сваки ентитет се преводи у релацију
- Атрибути ентитета се преводе у атрибуте релације
- Сложени атрибути се преводе у више простих атрибута
- Кључни атрибути се преводе у примарни кључ

Скоро сваки однос се преводи у релацију
- Атрибути односа се преводе у атрибуте релације
- Додају се и кључни атрибути укључених ентитета
- Примарни кључ добијене релације чине примарни кључеви релација које
одговарају укљученим ентитетима
- Примарном кључу се додају и сви кључни атрибути односа
- Страни кључеви су примарни кључеви учесника

Ако је однос 1:0..1
- онда не мора да се прави додатна релација за однос
- атрибути односа се додају релацији која одговара ентитету са кардиналношћу 1
- ОПРЕЗНО! Ако однос није 1:0..1 него 0..1:0..1, онда се добија потенцијално
редундантно решење

## 56. Како се хијерархије ЕР модела преводе у релациони модел?
Хијерархије могу да се реше на три основна начина:
- Цела хијерархија у једну релацију
- Сваки ентитет у посебну релацију
  - тј. као да се ради о “обичном” осносу ентитета
- Сваки ентитет-лист у посебну релацију, али тако да укључи све наслеђене
атрибуте

Cве у једну релацију
- Једна релација која обухвата све атрибуте који постоје у хијерархији
  - За сваки ентитет се користи само део атрибута
  - ...остали имају недефинисане (празне) вредности
- Ефикасна употреба
- Ако је хијерархија са преклапањем(може инстанца да буде члан две'поткласе') онда мора да постоји начин да се за сваки
конкретан скуп ентитета хијерархије провери да ли му ентитет припада
  - или по један додатан атрибут
  - или се проверава да ли су остали одговарајући атрибути непразни
- Ако је хијерархија са покривањем(мора да припада бар једној поткласи) онда је потребан услов да свака торка релације
припада бар једном конкретном скупу ентитета
  - обично није проблем дефинисати

Cваки ентитет посебно
- За сваки ентитет се прави по релација, са страним кључем на непосредну базну
релацију
  - Свака релација обухвата само оне атрибуте који су за њу специфични
    - ...и још атрибуте кључа базне релације
    - ...који се користе као страни кључ
- Употреба захтева честа спајања и потенцијално је неефикасна
  - али је на нивоу концептуалног и логичког модела прихватљива
- Ако је хијерархија са покривањем онда мора да се обезбеди додатно средство за
проверу покривености

Листови посебно
- За сваки ентитет се прави по релација, са страним кључем на непосредну базну
релацију
  - Свака релација обухвата атрибуте који су за њу специфични
    - ...и СВЕ атрибуте СВИХ базних класа
    - ... атрибути кључа базне релације се користе као страни кључ
- Употреба појединачних ентитета је ефикасна
- Претраживање базног скупа ентитета је неефикасно (унија)
- Ако је хијерархија са преклапањем онда овакво решење може да направи проблеме
  - могу да се редундантно понављају делови ентитета...


Последња два метода могу да се комбинују у различитим деловима хијерархије


## 57. Како се слаби ентитети ЕР модела преводе у релациони модел?
- Слаб ентитет и одговарајући однос се моделирају једном релацијом
- додаје се и кључни атрибут везаног јаког ентитета, као део примарног кључа

## 58. Шта су „дијаграми табела (релација)“?
Дијаграм табела је углавном релациони модел/дијаграм. Показује везе између табела - примарне и стране кључеве.
- Често се погрешно називају „ЕР дијаграми“
- То нису ЕР дијаграми него дијаграми табела (релација)
- ознаке и термини су обично табеле/колоне/кључеви
- Прилагођени су логичком и (посебно) физичком нивоу релационог модела
- Семантика односа је представљена у мери у којој то
допушта релациони модел

## 59. У чему се дијаграми табела суштински разликују од ЕР дијаграма? Који се када користе?
(Нема нигде баш одговор у слајдовима, али ценим да је ово фино.)

Дијаграм табела је прилагођен логичком и (посебно) физичком нивоу релационог модела, док је ЕР дијаграм боље прилагођен највишем нивоу
посматрања информација, тј. семантичком и концептуалном моделирању.

Из табеле дијаграма је теже закључити односе међу табелама, док је у ЕР моделу лакше.

Зато се генерално почиње ЕР-дијаграмом, који се после преводи у Дијаграм табела.
## 60. Како се означвају кључеви у дијаграмима табела?
ако колона припада примарном кључу, онда се она обележава са
- симболом +
- ознакаом PK
- цртежом кључа

ако колона припада страном кључу
- симбол #
- ознака FK (или PF, ако је и примарни и страни, тзв. слаби ентитет)
- цртеж кључа са стрелицом
- обично и искошен назив
